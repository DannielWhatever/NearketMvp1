{"version":3,"sources":["controllers/concerts.controller.js"],"names":["angular","module","controller","$scope","$state","ConcertFactory","ConcertService","$on","console","log","concerts","getConcerts","length","all","then","resp","setConcerts"],"mappings":";;AAAAA,QAAQC,MAAR,CAAe,yBAAf,EAEGC,UAFH,CAEc,oBAFd,EAEoC,UAASC,MAAT,EAAiBC,MAAjB,EAAyBC,cAAzB,EAAyCC,cAAzC,EAAyD;AACzF;AACA;AACA;AACA;AACA;;;AAGAH,SAAOI,GAAP,CAAW,kBAAX,EAA+B,YAAM;;AAEnCC,YAAQC,GAAR,CAAY,eAAZ;;AAEAN,WAAOO,QAAP,GAAkB,EAAlB;;AAEAP,WAAOO,QAAP,GAAkBJ,eAAeK,WAAf,EAAlB;;AAEAH,YAAQC,GAAR,CAAYN,OAAOO,QAAnB;;AAEA,QAAGP,OAAOO,QAAP,CAAgBE,MAAhB,KAA2B,CAA9B,EAAgC;AAC9BJ,cAAQC,GAAR,CAAY,WAAZ;AACAJ,qBAAeQ,GAAf,GAAqBC,IAArB,CACE,gBAAM;AACJX,eAAOO,QAAP,GAAkBK,IAAlB;AACAT,uBAAeU,WAAf,CAA2Bb,OAAOO,QAAlC;AACD,OAJH;AAMD;AAEF,GApBD;AA2BD,CArCH","file":"concerts.controller.js","sourcesContent":["angular.module('hackaton700.controllers')\n\n  .controller('ConcertsController', function($scope, $state, ConcertFactory, ConcertService) {\n    // With the new view caching in Ionic, Controllers are only called\n    // when they are recreated or on app start, instead of every page change.\n    // To listen for when this page is active (for example, to refresh data),\n    // listen for the $ionicView.enter event:\n    //\n\n\n    $scope.$on('$ionicView.enter', () => {\n\n      console.log('in controller');\n\n      $scope.concerts = [];\n\n      $scope.concerts = ConcertService.getConcerts();\n\n      console.log($scope.concerts);\n\n      if($scope.concerts.length === 0){\n        console.log('CALL API!');\n        ConcertFactory.all().then(\n          resp=>{\n            $scope.concerts = resp;\n            ConcertService.setConcerts($scope.concerts);\n          }\n        );\n      }\n\n    });\n\n\n\n\n\n\n  });\n"]}